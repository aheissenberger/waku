---
slug: builder/aws-lambda
title: AWS Lambda Builder
description: Deploy a WAKU application to AWS.
---

# AWS Lambda Builder

The WAKU builder for AWS Lambda will provide the bundled output in the `dist` folder.
The entry handler for the Lambda is `dist/serve.handler`.

> Folder which require directly access - eg. `fs.readFile("./private/data.json")` needs to be manual added to the deployment configuration.

## [Serverless Framework](https://www.serverless.com)

### Installation

add this serverless plugin to you `package.json`:

```sh
pnpm add -D serverless-scriptable-plugin
```

### Setup

create a `serverlesss.yml` with this content and change the `service:` to your project name.

```yml
service: waku-aws-lambda
frameworkVersion: '3'
configValidationMode: error

provider:
  name: aws
  runtime: nodejs20.x
  architecture: arm64
  deploymentMethod: direct
  region: us-east-1
  stage: ${opt:stage, 'dev'}
  versionFunctions: false

plugins:
  - serverless-scriptable-plugin

package:
  patterns:
    - '!**/**'
    - 'private/**' # include all static files and directories from ./private directory
    - 'dist/**'

functions:
  ssr:
    handler: dist/serve.handler
    events:
      - httpApi: '*'

custom:
  scriptable:
    # add custom hooks
    hooks:
      before:package:createDeploymentArtifacts:
        - pnpm waku build --with-ssr --with-aws-lambda
```

This configuration will include all files from the `./private` directory in the final deployment.

### Deploy

```sh
pnpm dlx serverless deploy
```

Output:

```
âœ” Service deployed to stack waku-aws-lambda-m-dev (95s)

endpoint: ANY - https://<your-application>.execute-api.us-east-1.amazonaws.com
functions:
  ssr: waku-aws-lambda-m-dev-ssr (325 kB)
```

You can access the frontend through the url provided as the `endpoint:`

For more configuration options and how to use a custom domain visit the Serverless framework [documentation](https://www.serverless.com/framework/docs).
